<!DOCTYPE html><html lang="id"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Tes Kraepelin</title><script src="https://cdn.jsdelivr.net/npm/chart.js"></script><style>body{font-family:'Arial',sans-serif;background-color:#f4f4f9;color:#333;display:flex;flex-direction:column;align-items:center;gap:1rem;padding:1rem 0;margin:auto}*{box-sizing:border-box}.container{background:#fff;padding:1rem;border-radius:.75rem;box-shadow:0 .25rem .9375rem rgb(0 0 0 / .1);max-width:56rem;width:100%}h1{text-align:center;color:#0056b3;font-size:1.25rem;margin-bottom:1rem}.status-area{display:flex;justify-content:space-around;background:#eef;padding:.625rem;border-radius:.5rem;border:.0625rem solid #ddd}.status-box{text-align:center}.status-box .label{display:block;font-size:.85em;color:#666}.status-box .timer{display:block;font-size:1.25em;font-weight:700;color:#d9534f}.instruksi{background:#fff3cd;color:#856404;padding:1rem;border-radius:.5rem;margin-bottom:1.25rem;border:.0625rem solid #ffeeba}.instruksi li{line-height:calc(1em + 0.5rem)}.question-display{display:flex;justify-content:center;align-items:center;font-size:3rem;font-weight:700;height:6rem}.number{padding:0 .625rem}.operator{color:#0056b3;margin:0 10px}.numpad-area{display:flex;justify-content:center;margin-bottom:20px}.numpad{display:grid;grid-template-columns:repeat(3,80px);gap:10px;padding:20px;background:#f9f9f9;border-radius:10px;box-shadow:0 2px 8px rgb(0 0 0 / .05)}.numpad button{padding:15px 0;font-size:1.5em;font-weight:700;border:none;border-radius:8px;cursor:pointer;background-color:#e0e0e0;transition:background-color 0.1s}.numpad button:hover{background-color:#ccc}.numpad button.flash{background-color:#4CAF50;color:#fff}.controls{text-align:center}.btn{padding:.625rem 1.25rem;font-size:1rem;font-weight:700;border:none;border-radius:.3125rem;cursor:pointer;margin:0 .3125rem;transition:background-color 0.2s}.primary{background-color:#007bff;color:#fff}.primary:hover{background-color:#0056b3}.danger{background-color:#dc3545;color:#fff}.danger:hover{background-color:#c82333}.secondary{background-color:#6c757d;color:#fff}.secondary:hover{background-color:#5a6268}.hasil-area h2{text-align:center;margin-bottom:1.25rem;color:#28a745;margin:0}.hasil-area .table-container{overflow-x:auto;max-width:100%}.hasil-area table{width:100%;border-collapse:collapse;margin-top:1.25rem;font-size:.9rem;table-layout:fixed}.hasil-area th,.hasil-area td{border:.0625rem solid #ddd;padding:.625rem;text-align:center}.hasil-area thead th{background-color:#f0f0f0;font-weight:700}.hasil-area .total-row td{font-weight:700;background-color:#e9ecef}.correct-count{color:green}.wrong-count{color:red}.score-message{text-align:center;font-size:.75rem;opacity:.8;margin:0}.result-logs{text-align:center;font-size:.85rem;color:#555;margin-top:1rem}footer{text-align:center}</style></head><body><div class="container"><h1>Tes Kraepelin</h1><div id="status-area" class="status-area" style="display: none;"><div class="status-box"><span class="label">Sisa Waktu</span><span id="total-timer" class="timer">450</span></div><div class="status-box"><span class="label">Putaran/Kolom</span><span id="kolom-timer" class="timer">15</span></div><div class="status-box"><span class="label">Kolom</span><span id="kolom-count" class="timer">0</span></div></div><div id="instruksi" class="instruksi"><p><strong>Instruksi :</strong></p><ol><li>Anda akan diberikan soal penjumlahan 2 angka sederhana (misal: 7 + 5).</li><li>Setiap soal harus dijawab dengan mengetikkan <u>angka satuan</u> dari hasil penjumlahan tersebut. </li><li>Jika hasil penjumlahan adalah angka puluhan atau belasan, maka ketikkan angka belakangnya saja.<ul><li>Contoh 1 : jika soalnya adalah 7 + 3 = 10, maka Anda harus mengetikkan angka 0 sebagai jawaban.</li><li>Contoh 2 : jika soalnya adalah 4 + 8 = 12, maka Anda harus mengetikkan angka 2 sebagai jawaban.</li></ul></li><li>Anda dapat ketikkan jawabannya melalui <i>keyboard</i> virtual yang sudah disediakan atau melalui <i>keyboard</i> fisik perangkat Anda. </li><li>Tekan tombol "MULAI" untuk memulai tes.</li><li>Tes akan selesai secara otomatis setelah 7,5 menit (450 detik) kecuali jika Anda menghentikannya secara manual dengan menekan tombol "SELESAI".</li></ol></div><div id="question-display" class="question-display" style="display: none;"><span id="top-number" class="number"></span><span class="operator">+</span><span id="bottom-number" class="number"></span></div><div id="numpad-area" class="numpad-area" style="display: none;"><div class="numpad"></div></div><div id="hasil-area" class="hasil-area" style="display: none;"></div><div class="controls"><button id="start-button" class="btn primary">MULAI</button><button id="stop-button" class="btn danger">SELESAI</button><button id="reset-button" class="btn secondary">ULANGI</button></div></div><footer><p>Dikembangkan oleh <a href="https://github.com/lovermans" rel="noopener" target="_blank">Lovermans</a> didedikasikan untuk <a href="https://kepuhkencanaarum.com" rel="noopener" target="_blank">PT. Kepuh Kencana Arum</a></p></footer><script>const TOTAL_TIMER_DISPLAY=document.getElementById("total-timer"),KOLOM_TIMER_DISPLAY=document.getElementById("kolom-timer"),KOLOM_COUNT_DISPLAY=document.getElementById("kolom-count"),START_BUTTON=document.getElementById("start-button"),STOP_BUTTON=document.getElementById("stop-button"),RESET_BUTTON=document.getElementById("reset-button"),INSTRUKSI_AREA=document.getElementById("instruksi"),HASIL_AREA=document.getElementById("hasil-area"),NUMPAD_AREA=document.getElementById("numpad-area"),NUMPAD_CONTAINER=document.querySelector(".numpad"),QUESTION_DISPLAY=document.getElementById("question-display"),TOP_NUMBER_DISPLAY=document.getElementById("top-number"),BOTTOM_NUMBER_DISPLAY=document.getElementById("bottom-number"),PAGE_HEADING=document.querySelector(".container h1"),STATUS_AREA=document.getElementById("status-area"),MAX_TOTAL_TIME=450,KOLOM_TIME_LIMIT=15,MAX_KOLOM=30;let totalTimerInterval,kolomTimerInterval,activeTopNumber,activeBottomNumber,totalTimeRemaining=450,kolomTimeRemaining=KOLOM_TIME_LIMIT,currentKolom=0,isTestRunning=!1,allAnswers=[];function generateRandomNumber(){return Math.floor(9*Math.random())+1}function generateNewQuestion(){activeTopNumber=generateRandomNumber(),activeBottomNumber=generateRandomNumber(),TOP_NUMBER_DISPLAY.textContent=activeTopNumber,BOTTOM_NUMBER_DISPLAY.textContent=activeBottomNumber}function validateAnswer(t,e,n){return(t+e)%10===n}function applyFlashEffect(t){t&&(t.classList.add("flash"),setTimeout((()=>{t.classList.remove("flash")}),100))}function buildNumpad(){NUMPAD_CONTAINER.innerHTML="";[7,8,9,4,5,6,1,2,3,0].forEach((t=>{const e=document.createElement("button");e.textContent=t,e.dataset.value=t,e.id=`numpad-${t}`,e.addEventListener("click",(()=>handleNumpadInput(t,e))),0===t&&(e.style.gridColumn="2 / span 1"),NUMPAD_CONTAINER.appendChild(e)}))}function handleNumpadInput(t,e){if(isTestRunning){if(applyFlashEffect(e),currentKolom<MAX_KOLOM&&currentKolom>=0&&allAnswers[currentKolom]){const e=validateAnswer(activeTopNumber,activeBottomNumber,t),n={top:activeTopNumber,bottom:activeBottomNumber,answer:t,isCorrect:e,timestamp:(new Date).getTime()};allAnswers[currentKolom].push(n)}generateNewQuestion()}}function handleKeyInput(t){if(!isTestRunning)return;const e=parseInt(t.key);if(isNaN(e)||e<0||e>9)return;handleNumpadInput(e,document.getElementById(`numpad-${e}`))}function pindahKolom(){currentKolom++,currentKolom<MAX_KOLOM?(allAnswers.push([]),KOLOM_COUNT_DISPLAY.textContent=currentKolom+1,clearInterval(kolomTimerInterval),kolomTimeRemaining=KOLOM_TIME_LIMIT,KOLOM_TIMER_DISPLAY.textContent=kolomTimeRemaining,startKolomTimer()):stopTest(!1)}function startTotalTimer(){totalTimerInterval=setInterval((()=>{totalTimeRemaining--,TOTAL_TIMER_DISPLAY.textContent=totalTimeRemaining,totalTimeRemaining<=0&&stopTest(!1)}),1e3)}function startKolomTimer(){kolomTimerInterval=setInterval((()=>{kolomTimeRemaining--,KOLOM_TIMER_DISPLAY.textContent=kolomTimeRemaining,kolomTimeRemaining<=0&&(clearInterval(kolomTimerInterval),pindahKolom())}),1e3)}function startTest(){isTestRunning||(isTestRunning=!0,START_BUTTON.style.display="none",START_BUTTON.disabled=!0,INSTRUKSI_AREA.style.display="none",QUESTION_DISPLAY.style.display="flex",NUMPAD_AREA.style.display="flex",HASIL_AREA.style.display="none",PAGE_HEADING.style.display="none",STATUS_AREA.style.display="flex",STOP_BUTTON.style.display="inline-block",STOP_BUTTON.disabled=!1,document.addEventListener("keydown",handleKeyInput),currentKolom=-1,allAnswers=[],totalTimeRemaining=450,TOTAL_TIMER_DISPLAY.textContent=450,KOLOM_TIMER_DISPLAY.textContent=KOLOM_TIME_LIMIT,KOLOM_COUNT_DISPLAY.textContent=0,startTotalTimer(),generateNewQuestion(),pindahKolom())}function getPerformanceCriteria(t){return t>=90?"Sangat Baik ‚ú®":t>=70?"Baik üëç":t>=60?"Cukup üëå":t>=40?"Kurang ‚ö†Ô∏è":"Sangat Kurang üö®"}function calculateRegressionLine(t){const e=t.length;if(0===e)return[];let n=0,a=0,o=0,l=0;for(let r=0;r<e;r++){const e=r+1,s=t[r];n+=e,a+=s,o+=e*s,l+=e*e}const r=e*l-n*n;if(0===r)return Array(e).fill(a/e);const s=(e*o-n*a)/r,i=(a-s*n)/e,d=[];for(let t=0;t<e;t++){const e=s*(t+1)+i;d.push(e)}return d}function displayPerformanceGraph(t,e){const n=document.getElementById("myChart");if(!n||"undefined"==typeof Chart)return void console.error("Chart.js tidak dimuat atau elemen canvas 'myChart' tidak ditemukan.");const a=n.getContext("2d");window.myKraepelinChart instanceof Chart&&window.myKraepelinChart.destroy();const o=t.map(((t,e)=>`${e+1}`)),l=calculateRegressionLine(t),r=[...t,...e,...l],s={type:"line",data:{labels:o,datasets:[{label:"Soal Terjawab",data:t,fill:!1,borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.5)",tension:.1,pointRadius:5,pointBackgroundColor:"rgb(75, 192, 192)"},{label:"Jawaban Salah",data:e,fill:!1,borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)",tension:.1,pointRadius:5,pointBackgroundColor:"rgb(255, 99, 132)"},{label:"Tren Ketahanan",data:l,fill:!1,borderColor:"rgb(54, 162, 235)",borderDash:[5,5],borderWidth:2,tension:0,pointRadius:0}]},options:{responsive:!0,scales:{x:{title:{display:!0,text:"Nomor Kolom"}},y:{title:{display:!0,text:"Jumlah Jawaban"},beginAtZero:!0,min:0,max:(r.length>0?Math.max(...r):10)+2}},plugins:{legend:{display:!0},title:{display:!0,text:"Gambaran Kinerja Kraepelin"}}}};window.myKraepelinChart=new Chart(a,s)}function stopTest(t=!1){let e;isTestRunning=!1,clearInterval(totalTimerInterval),clearInterval(kolomTimerInterval),QUESTION_DISPLAY.style.display="none",NUMPAD_AREA.style.display="none",STOP_BUTTON.style.display="none",STOP_BUTTON.disabled=!0,STATUS_AREA.style.display="none",document.removeEventListener("keydown",handleKeyInput),e=t?"Tes Kraepelin dihentikan secara manual oleh peserta.":currentKolom>=MAX_KOLOM?"Tes Kraepelin Selesai! Batas 30 kolom telah tercapai.":"Tes Kraepelin Selesai! Waktu total 450 detik telah habis.";let n=allAnswers.length,a=[],o=[],l=0,r=0,s=-1,i=1/0,d=-1,T=1/0,m=-1,c=1/0,u=`\n        <h2>Hasil Tes Kraepelin</h2>\n        <p class="score-message">(${e})</p>\n\n        <hr>\n        <div id="score"></div>\n        <hr>\n        <canvas id="myChart"></canvas>\n        <hr>\n\n        <div class="table-container">\n            <table>\n                <thead>\n                    <tr>\n                        <th>Kolom Ke</th>\n                        <th>Total Jawab</th>\n                        <th>Benar (‚úî)</th>\n                        <th>Salah (‚úñ)</th>\n                    </tr>\n                </thead>\n                <tbody>\n    `;for(let t=0;t<n;t++){const e=allAnswers[t],n=e.length,p=e.filter((t=>t.isCorrect)).length,A=n-p;l+=n,r+=p,a.push(n),o.push(A),s=Math.max(s,n),i=Math.min(i,n),d=Math.max(d,p),T=Math.min(T,p),m=Math.max(m,A),c=Math.min(c,A),u+=`\n            <tr>\n                <td>${t+1}</td>\n                <td>${n}</td>\n                <td class="correct-count">${p}</td>\n                <td class="wrong-count">${A}</td>\n            </tr>\n        `}n<=1&&(i=s=l,T=d=r,c=m=l-r);const p=l-r;let A=0,g=0,y=0;n>0&&(A=Math.round(l/n),g=Math.round(r/n),y=Math.round(p/n));const I=l>0?Math.round(r/l*100):0,_=A>=15?100:Math.round(A/15*100),h=s-i;let E=0;E=h<=0?100:h>=20?0:100-Math.round(h/20*100);const O=n>0?Math.round((_+E)/2):0,b=getPerformanceCriteria(I),S=getPerformanceCriteria(_),M=getPerformanceCriteria(E),N=getPerformanceCriteria(O);u+=`\n                </tbody>\n                <tfoot>\n                    <tr class="total-row">\n                        <td>Total</td>\n                        <td>${l}</td>\n                        <td>${r}</td>\n                        <td>${p}</td>\n                    </tr>\n                    <tr class="average-row">\n                        <td>Rata-rata</td>\n                        <td style="font-weight: bold;">${A}</td>\n                        <td style="font-weight: bold;">${g}</td>\n                        <td style="font-weight: bold;">${y}</td>\n                    </tr>\n                    <tr class="total-row">\n                        <td colspan="3">Total Jawaban Tertinggi</td>\n                        <td>${s}</td>\n                    </tr>\n                    <tr class="total-row">\n                        <td colspan="3">Total Jawaban Terendah</td>\n                        <td>${i}</td>\n                    </tr>\n                    <tr class="total-row">\n                        <td colspan="3">Jawaban Benar Tertinggi</td>\n                        <td>${d}</td>\n                    </tr>\n                    <tr class="total-row">\n                        <td colspan="3">Jawaban Benar Terendah</td>\n                        <td>${T}</td>\n                    </tr>\n                    <tr class="total-row">\n                        <td colspan="3">Jawaban Salah Tertinggi</td>\n                        <td>${m}</td>\n                    </tr>\n                    <tr class="total-row">\n                        <td colspan="3">Jawaban Salah Terendah</td>\n                        <td>${c}</td>\n                    </tr>\n                </tfoot>\n            </table>\n        </div>\n        \n        <p class="result-logs">Data detail jawaban tersedia di console browser.</p>\n    `,HASIL_AREA.innerHTML=u,HASIL_AREA.style.display="block",RESET_BUTTON.style.display="inline-block",RESET_BUTTON.disabled=!1;const R=`\n        <p><strong>Kecepatan :</strong> <span style="color: ${_>=60?"green":_>=40?"orange":"red"}; font-weight: bold;">${_} (${S})</span></p>\n        <p><strong>Ketelitian :</strong> <span style="color: ${I>=60?"green":I>=40?"orange":"red"}; font-weight: bold;">${I} (${b})</span></p>\n        <p><strong>Kestabilan :</strong> <span style="color: ${E>=60?"green":E>=40?"orange":"red"}; font-weight: bold;">${E} (${M})</span></p>\n        <p><strong>Ketahanan :</strong> <span style="color: ${O>=60?"green":O>=40?"orange":"red"}; font-weight: bold;">${O} (${N})</span></p>\n    `;document.getElementById("score").innerHTML=R,displayPerformanceGraph(a,o),console.log(`--- ${e} ---`),console.log("Data Jawaban Lengkap:",allAnswers),alert(e)}function resetTest(){QUESTION_DISPLAY.style.display="none",NUMPAD_AREA.style.display="none",HASIL_AREA.style.display="none",RESET_BUTTON.style.display="none",STATUS_AREA.style.display="none",window.myKraepelinChart instanceof Chart&&window.myKraepelinChart.destroy(),HASIL_AREA.innerHTML="",document.removeEventListener("keydown",handleKeyInput),START_BUTTON.style.display="inline-block",START_BUTTON.disabled=!1,INSTRUKSI_AREA.style.display="block",PAGE_HEADING.style.display="block",TOTAL_TIMER_DISPLAY.textContent=450,KOLOM_TIMER_DISPLAY.textContent=KOLOM_TIME_LIMIT,KOLOM_COUNT_DISPLAY.textContent=0,allAnswers=[],currentKolom=0,isTestRunning=!1,console.clear(),console.log("Tes direset. Siap untuk tes baru.")}document.addEventListener("DOMContentLoaded",(()=>{buildNumpad(),START_BUTTON.addEventListener("click",startTest),RESET_BUTTON.addEventListener("click",resetTest),STOP_BUTTON.addEventListener("click",(()=>stopTest(!0))),KOLOM_COUNT_DISPLAY.textContent=0,STOP_BUTTON.style.display="none",STOP_BUTTON.disabled=!0,RESET_BUTTON.style.display="none",RESET_BUTTON.disabled=!0,STATUS_AREA.style.display="none"}));</script></body></html>